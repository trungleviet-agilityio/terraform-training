# Core Configuration
aws_region   = "ap-southeast-1"
project_name = "tt-practice"
environment  = "dev"

# GitHub OIDC Configuration (grouped)
# Configure these to enable GitHub Actions authentication via OIDC
github_oidc_config = {
  organization      = "your-github-org"
  repository        = "terraform-training"
  create_oidc       = false
  create_policies   = false
  create_plan_role  = false
  create_apply_role = false
  # allowed_branches  = ["main", "develop"]  # Optional: Restrict to specific branches
}

# Backend Configuration
# =====================
# Backend configuration is automatically retrieved from 10_core layer using terraform_remote_state
# in main.tf. No manual configuration needed here.
#
# The backend_config is constructed from 10_core outputs:
# - bucket_arn: Retrieved from 10_core state_backend_bucket_arn output
# - table_arn: Retrieved from 10_core state_backend_dynamodb_table_arn output
# - account_id: Retrieved from 10_core account_id output
#
# Make sure 10_core layer is deployed before deploying 20_infra layer.
# See shared/docs/terraform-state-and-backend.md for detailed information about remote state usage.

# Optional: Lambda Integration (from 30_app layer)
# Uncomment and set these after Lambda functions are created in 30_app layer
# api_lambda_function_arn  = "arn:aws:lambda:ap-southeast-1:123456789012:function:my-api-function"
# api_lambda_function_name = "my-api-function"

# Optional: EventBridge Schedule Configuration
# Uncomment and set these after Lambda function is created in 30_app layer
# eventbridge_schedule_expression  = "cron(0 12 * * ? *)"  # Daily at 12:00 PM UTC
# eventbridge_lambda_function_arn  = "arn:aws:lambda:ap-southeast-1:123456789012:function:my-producer-function"
# eventbridge_lambda_function_name = "my-producer-function"

# Note: The following configurations use sub-module defaults and don't need to be specified:
# - SQS queue_name = "main" (module default)
# - SQS enable_dlq = true (module default)
# - EventBridge schedule_name = "producer" (module default)
# - SQS is always created for practice project
# - API Gateway and EventBridge are only created when Lambda ARNs are provided

# Optional: DynamoDB Tables Configuration
# Uncomment and configure tables as needed for your application
# See modules/dynamodb/README.md for detailed configuration options
#
# dynamodb_tables = {
#   # Example: Key-value table for user data
#   "user-data" = {
#     partition_key = "user_id"
#     type          = "key-value"
#     attribute_types = {
#       user_id = "S"
#     }
#     enable_point_in_time_recovery = true
#   }
#
#   # Example: Time-series table for events
#   "events" = {
#     partition_key = "event_type"
#     sort_key      = "timestamp"
#     type          = "time-series"
#     attribute_types = {
#       event_type = "S"
#       timestamp  = "N"
#     }
#     enable_ttl = true
#     ttl_attribute = "ttl"
#   }
# }
